<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>OTF„Éï„Ç©„É≥„Éà„Ç∏„Çß„Éç„É¨„Éº„Çø„Éº</title>
  <style>
    body {
      background: #f7f7f7;
      font-family: sans-serif;
      text-align: center;
      padding: 2rem;
    }

    h1 {
      margin-bottom: 1rem;
    }

    input, select {
      padding: 0.6rem;
      font-size: 1.1rem;
      margin: 0.5rem;
    }

    button {
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      background: #4CAF50;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    #preview {
      margin-top: 2rem;
      font-size: 3rem;
    }

    canvas {
      display: none;
    }
  </style>
</head>
<body>
  <h1>üé®OTF„Éï„Ç©„É≥„Éà„Ç∏„Çß„Éç„É¨„Éº„Çø„Éº</h1>

  <input type="text" id="textInput" placeholder="„ÉÜ„Ç≠„Çπ„Éà„ÇíÂÖ•Âäõ„Åó„Å¶„Å≠" />
  <select id="fontSelect">
      <option value="fonts/Alpha-C Font V1_1.otf">Alpha-C Font V1.1</option>
      <option value="fonts/Alpha-CFont-Regular.otf">Alpha-C Font V1</option>  </select>
  <button onclick="drawText()">ÁîüÊàêÔºÜ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ</button>

  <div id="preview">‚¨ÜÔ∏è ÂÖ•Âäõ„Åó„Å¶„Éú„Çø„É≥Êäº„Åó„Å¶„Å≠ÔºÅ</div>

  <canvas id="canvas" width="800" height="200"></canvas>

  <script>
    async function loadFont(name, url) {
      const font = new FontFace(name, `url(${url})`);
      await font.load();
      document.fonts.add(font);
    }

    async function drawText() {
      const text = document.getElementById("textInput").value;
      const fontUrl = document.getElementById("fontSelect").value;
      const fontName = "customFont";

      if (!text) {
        alert("„ÉÜ„Ç≠„Çπ„Éà„ÇíÂÖ•Âäõ„Åó„Å¶„Å≠ÔºÅ");
        return;
      }

      await loadFont(fontName, fontUrl);

      const canvas = document.getElementById("canvas");
      const ctx = canvas.getContext("2d");
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      ctx.font = `80px '${fontName}'`;
      ctx.fillStyle = "black";
      ctx.textBaseline = "middle";
      ctx.textAlign = "center";
      ctx.fillText(text, canvas.width / 2, canvas.height / 2);

      // „Éó„É¨„Éì„É•„ÉºË°®Á§∫
      document.getElementById("preview").style.fontFamily = fontName;
      document.getElementById("preview").textContent = text;

      // „ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
      const link = document.createElement("a");
      link.download = "font-image.png";
      link.href = canvas.toDataURL("image/png");
      link.click();
    }
  </script>
</body>
</html>




      <option value="fonts/Alpha-C Font V1_1.svg">Alpha-C Font V1.1</option>
      <option value="fonts/Alpha-C Font.svg">Alpha-C Font V1</option>
    </select>
    <br />
    <button onclick="generate()">„Éó„É¨„Éì„É•„ÉºÔºÜ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ</button>
  </div>

  <div id="preview-container"></div>
  <canvas id="canvas" width="800" height="200"></canvas>

  <script>
    async function generate() {
      const text = document.getElementById("textInput").value;
      const fontURL = document.getElementById("fontSelect").value;

      if (!text) {
        alert("ÊñáÂ≠ó„ÇíÂÖ•Âäõ„Åó„Å¶„Å≠ÔºÅ");
        return;
      }

      const svgText = `
        <svg xmlns="http://www.w3.org/2000/svg" width="800" height="200">
          <style>
            @font-face {
              font-family: 'customFont';
              src: url('${fontURL}');
            }
            text {
              font-family: 'customFont';
              font-size: 80px;
              fill: black;
            }
          </style>
          <text x="50" y="120">${text}</text>
        </svg>
      `;

      // „Éó„É¨„Éì„É•„ÉºË°®Á§∫
      const container = document.getElementById("preview-container");
      container.innerHTML = svgText;

      // PNG„Å®„Åó„Å¶Canvas„Å´ÊèèÁîª„Åó„Å¶DL
      const svgBlob = new Blob([svgText], { type: "image/svg+xml;charset=utf-8" });
      const url = URL.createObjectURL(svgBlob);

      const img = new Image();
      img.onload = () => {
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(img, 0, 0);

        // „ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
        const pngUrl = canvas.toDataURL("image/png");
        const a = document.createElement("a");
        a.href = pngUrl;
        a.download = "generated-font.png";
        a.click();
        URL.revokeObjectURL(url);
      };
      img.src = url;
    }
  </script>
</body>
</html>
